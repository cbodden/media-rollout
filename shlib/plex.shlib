_SERVICE_NAME+=( "plex:32400" )

function _plex_install()
{
    curl $(curl -s https://plex.tv/api/downloads/5.json \
        | grep -m1 -ioe 'https://[^\"]*' \
        | awk '/amd64/&&/debian/') \
        -o /tmp/temp.deb

    dpkg -i /tmp/temp.deb
}

function _plex_remove()
{
    local _FNC_NAME=$(echo ${FUNCNAME} \
        | cut -d_ -f2)

    local _SRVC_CHECK=$(systemctl cat ${_FNC_NAME} 2>&1 \
        | wc -l)

    if [[ ${_SRVC_CHECK} -gt "2" ]]
    then
        printf "%s\n" \
            "[${RED}***${CLR}] ${_FNC_NAME} IS ABOUT TO BE REMOVED"

        _pause

        dpkg -r plexmediaserver

        rm -r /var/lib/plexmediaserver

        printf "%s\n" \
            "[${BLU}***${CLR}] ${_FNC_NAME} HAS BEEN REMOVED"

    else
        printf "%s\n" \
            "[${BLU}***${CLR}] ${_FNC_NAME} NOT INSTALLED OR DAMAGED"

    fi
}
