function main()
{
    LC_ALL=C
    LANG=C

    readonly RED=$(tput setaf 1)
    readonly BLU=$(tput setaf 4)
    readonly GRN=$(tput setaf 40)
    readonly CLR=$(tput sgr0)

    ## check for sudo
    local _R_UID="0"
    if [ "${UID}" -ne "${_R_UID}" ]
    then
        clear
        printf "%s\n" \
            "${RED}. . .Needs sudo. . .${CLR}"

        exit 1
    fi

    # if $SHELL == /bin/bash have some default sets
    case "$(echo $SHELL 2>/dev/null)" in
        '/bin/bash')
            # set -o nounset
            set -o pipefail
            set -e
            set -u
            ;;
    esac

    trap 'echo "${NAME}: Ouch! Quitting." 1>&2 ; exit 1' 1 2 3 9 15

    readonly _IP=${_MEDIA_IP:-$(awk '{print $1}' <(hostname -I))}
    readonly _PATH=${_MEDIA_PATH:-storage}
    readonly _UNAME=${_CONFIG_UNAME:-admin}
    readonly _PWORD=${_CONFIG_PWORD:-admin}
    readonly _API_GEN="$(head /dev/urandom \
        | tr -dc a-f0-9 \
        | head -c 32 )"

    readonly _GIT_PATH="https://github.com/cbodden/media-rollout/blob/master"
    readonly _SAB_HOME="/home/sabnzbd/.sabnzbd"
    readonly _NH_HOME="/home/hydra/.nzbhydra2_data"
    readonly _LR_HOME="/home/lidarr/.config/Lidarr"
    readonly _RD_HOME="/home/radarr/.config/Radarr"
    readonly _SR_HOME="/home/sonarr/.config/NzbDrone"

    clear
}

function _pause()
{
    printf "%s\n" \
        "${GRN}. . . .Press enter to continue. . . .${CLR}"

    read -p "$*"
}

function _users()
{
    getent group downloads || groupadd downloads

    local _USERS="sabnzbd hydra lidarr sonarr radarr lazylibrarian tautulli"
    for ITER in ${_USERS}
    do
        if [ -z "$(getent passwd ${ITER})" ]
        then
            addgroup ${ITER}
            adduser --system ${ITER} --ingroup ${ITER}
            usermod -a -G downloads ${ITER}
        fi
    done
}

function _storage()
{
    local _DRV="books downloads/complete downloads/incomplete movies music tv"
    for ITER in ${_DRV}
    do
        mkdir -p /${_PATH}/${ITER}
    done
}
